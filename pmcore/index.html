<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="PMcore is a framework for developing and running non-parametric algorithms for population pharmacokinetic modelling"><title>pmcore - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-5bc39a1768837dd0.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="pmcore" data-themes="" data-resource-suffix="" data-rustdoc-version="1.77.0 (aedd173a2 2024-03-17)" data-channel="1.77.0" data-search-js="search-dd67cee4cfa65049.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../static.files/storage-4c98445ec4002617.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-48f368f3872407c8.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-04d5337699b92874.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../pmcore/index.html">pmcore</a><span class="version">0.1.6</span></h2></div><div class="sidebar-elems"><ul class="block">
            <li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#traits">Traits</a></li><li><a href="#types">Type Aliases</a></li></ul></section></div></nav><div class="sidebar-resizer"></div>
    <main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><div id="sidebar-button" tabindex="-1"><a href="../pmcore/all.html" title="show sidebar"></a></div><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" tabindex="-1"><a href="../help.html" title="help">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a class="mod" href="#">pmcore</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../src/pmcore/lib.rs.html#1-126">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>PMcore is a framework for developing and running non-parametric algorithms for population pharmacokinetic modelling</p>
<p>The framework is designed to be modular and flexible, allowing for easy integration of new algorithms and methods. It is heavily designed around the specifications for Pmetrics, a package for R, and is designed to be used in conjunction with it. However, as a general rust library, it can be used for a wide variety of applications, not limited to pharmacometrics.</p>
<h2 id="configuration"><a class="doc-anchor" href="#configuration">§</a>Configuration</h2>
<p>PMcore is configured using a TOML file, which specifies the settings for the algorithm. The settings file is divided into sections, each of which specifies a different aspect of the algorithm. They are further described in the <a href="routines/settings/index.html" title="mod pmcore::routines::settings">routines::settings</a> module.</p>
<h2 id="model-definition"><a class="doc-anchor" href="#model-definition">§</a>Model definition</h2>
<p>As PMcore is provided as a library, the user must define the model to be used. Some algebraic models are provided, and more will be added, but the user is free to define their own model. The model must implement the <a href="routines/simulation/predict/index.html" title="mod pmcore::routines::simulation::predict">routines::simulation::predict</a> trait, which specifies the methods that the model must implement. For more information on how to define models with ordinary differential equations, please look at at the examples.</p>
<h2 id="data-format"><a class="doc-anchor" href="#data-format">§</a>Data format</h2>
<p>Data is provided in a CSV file, and the format is described in the table below. For each subject, there must be at least one dose event.</p>
<div><table><thead><tr><th>Column</th><th>Description</th><th>Conditions</th></tr></thead><tbody>
<tr><td><code>ID</code></td><td>Unique subject ID</td><td></td></tr>
<tr><td><code>EVID</code></td><td>Event type; 0 = observation, 1 = dose, 4 = reset</td><td></td></tr>
<tr><td><code>TIME</code></td><td>Time of event</td><td></td></tr>
<tr><td><code>DUR</code></td><td>Duration of an infusion</td><td>Must be provided if EVID = 1</td></tr>
<tr><td><code>DOSE</code></td><td>The dose amount</td><td>Must be provided if EVID = 1</td></tr>
<tr><td><code>ADDL</code></td><td>The number of additional doses to be given at the interval <code>II</code></td><td></td></tr>
<tr><td><code>II</code></td><td>Interval for additional doses</td><td></td></tr>
<tr><td><code>INPUT</code></td><td>The compartment the dose should be delivered to</td><td></td></tr>
<tr><td><code>OUT</code></td><td>The observed value</td><td>Must be provided if EVID = 0</td></tr>
<tr><td><code>OUTEQ</code></td><td>Denotes the output equation for which <code>OUT</code> is provided</td><td></td></tr>
<tr><td><code>C0</code></td><td>Optional override of the error polynomial coefficient</td><td></td></tr>
<tr><td><code>C1</code></td><td>Optional override of the error polynomial coefficient</td><td></td></tr>
<tr><td><code>C2</code></td><td>Optional override of the error polynomial coefficient</td><td></td></tr>
<tr><td><code>C3</code></td><td>Optional override of the error polynomial coefficient</td><td></td></tr>
<tr><td><code>COV...</code></td><td>Any additional columns are assumed to be covariates, one per column</td><td>Must be present for the first event for each subject</td></tr>
</tbody></table>
</div><h2 id="examples"><a class="doc-anchor" href="#examples">§</a>Examples</h2>
<p>A couple of examples are provided in the <code>examples</code> directory. The <code>settings.toml</code> file contains the settings for the algorithm, and the <code>data.csv</code> file contains the data.</p>
<p>They can be run using the following command</p>
<div class="example-wrap"><pre class="language-sh"><code>cargo run --release --example `example_name`
</code></pre></div>
<p>where <code>example_name</code> is the name of the example to run. Currently, the following examples are available:</p>
<ul>
<li><code>bimodal_ke</code>: A simple, one-compartmental model following an intravenous infusion. The example is named by the bimodal distribution of one of two parameters, <code>Ke</code>, the elimination rate constant. The example is designed to demonstrate the ability of the algorithm to handle multimodal distributions, and detect outliers.</li>
<li><code>simple_covariates</code>: A simple example with a single subject and a single dose event, with covariates.</li>
</ul>
</div></details><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="algorithms/index.html" title="mod pmcore::algorithms">algorithms</a></div><div class="desc docblock-short">Provides the various algorithms used within the framework</div></li><li><div class="item-name"><a class="mod" href="butcher_tableau/index.html" title="mod pmcore::butcher_tableau">butcher_tableau</a></div><div class="desc docblock-short">Butcher tableaux containing the coefficients of the Runge-Kutta methods.</div></li><li><div class="item-name"><a class="mod" href="controller/index.html" title="mod pmcore::controller">controller</a></div><div class="desc docblock-short">Adaptive step size control.</div></li><li><div class="item-name"><a class="mod" href="dop853/index.html" title="mod pmcore::dop853">dop853</a></div><div class="desc docblock-short">Explicit Runge-Kutta method with Dormand-Prince coefficients of order 8(5,3) and dense output of order 7.</div></li><li><div class="item-name"><a class="mod" href="dop_shared/index.html" title="mod pmcore::dop_shared">dop_shared</a></div><div class="desc docblock-short">Shared traits and structures for dopri5 and dop853.</div></li><li><div class="item-name"><a class="mod" href="dopri5/index.html" title="mod pmcore::dopri5">dopri5</a></div><div class="desc docblock-short">Explicit Runge-Kutta method with Dormand-Prince coefficients of order 5(4) and dense output of order 4.</div></li><li><div class="item-name"><a class="mod" href="entrypoints/index.html" title="mod pmcore::entrypoints">entrypoints</a></div><div class="desc docblock-short">Entry points for external use of the framework.</div></li><li><div class="item-name"><a class="mod" href="logger/index.html" title="mod pmcore::logger">logger</a></div><div class="desc docblock-short">Logger functionality for the framework using [tracing]</div></li><li><div class="item-name"><a class="mod" href="prelude/index.html" title="mod pmcore::prelude">prelude</a></div><div class="desc docblock-short">A collection of commonly used items to simplify imports.</div></li><li><div class="item-name"><a class="mod" href="rk4/index.html" title="mod pmcore::rk4">rk4</a></div><div class="desc docblock-short">Explicit Runge-Kutta method of order 4 with fixed step size.</div></li><li><div class="item-name"><a class="mod" href="routines/index.html" title="mod pmcore::routines">routines</a></div><div class="desc docblock-short">Routines for the crate</div></li><li><div class="item-name"><a class="mod" href="tui/index.html" title="mod pmcore::tui">tui</a></div><div class="desc docblock-short">Terminal-based user interface components.</div></li></ul><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.Dop853.html" title="struct pmcore::Dop853">Dop853</a></div><div class="desc docblock-short">Structure containing the parameters for the numerical integration.</div></li><li><div class="item-name"><a class="struct" href="struct.Dopri5.html" title="struct pmcore::Dopri5">Dopri5</a></div><div class="desc docblock-short">Structure containing the parameters for the numerical integration.</div></li><li><div class="item-name"><a class="struct" href="struct.HashMap.html" title="struct pmcore::HashMap">HashMap</a></div><div class="desc docblock-short">A <a href="https://doc.rust-lang.org/1.77.0/std/collections/index.html#use-a-hashmap-when" title="mod std::collections">hash map</a> implemented with quadratic probing and SIMD lookup.</div></li><li><div class="item-name"><a class="struct" href="struct.Rk4.html" title="struct pmcore::Rk4">Rk4</a></div><div class="desc docblock-short">Structure containing the parameters for the numerical integration.</div></li></ul><h2 id="traits" class="section-header">Traits<a href="#traits" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.System.html" title="trait pmcore::System">System</a></div><div class="desc docblock-short">Trait needed to be implemented by the user</div></li></ul><h2 id="types" class="section-header">Type Aliases<a href="#types" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="type" href="type.DVector.html" title="type pmcore::DVector">DVector</a></div><div class="desc docblock-short">A dynamically sized column vector.</div></li><li><div class="item-name"><a class="type" href="type.OVector.html" title="type pmcore::OVector">OVector</a></div><div class="desc docblock-short">An owned D-dimensional column vector.</div></li><li><div class="item-name"><a class="type" href="type.Result.html" title="type pmcore::Result">Result</a></div><div class="desc docblock-short">type alias for <code>Result&lt;T, Report&gt;</code></div></li><li><div class="item-name"><a class="type" href="type.SVector.html" title="type pmcore::SVector">SVector</a></div><div class="desc docblock-short">A statically sized D-dimensional column vector.</div></li><li><div class="item-name"><a class="type" href="type.Vector1.html" title="type pmcore::Vector1">Vector1</a></div><div class="desc docblock-short">A stack-allocated, 1-dimensional column vector.</div></li><li><div class="item-name"><a class="type" href="type.Vector2.html" title="type pmcore::Vector2">Vector2</a></div><div class="desc docblock-short">A stack-allocated, 2-dimensional column vector.</div></li><li><div class="item-name"><a class="type" href="type.Vector3.html" title="type pmcore::Vector3">Vector3</a></div><div class="desc docblock-short">A stack-allocated, 3-dimensional column vector.</div></li><li><div class="item-name"><a class="type" href="type.Vector4.html" title="type pmcore::Vector4">Vector4</a></div><div class="desc docblock-short">A stack-allocated, 4-dimensional column vector.</div></li><li><div class="item-name"><a class="type" href="type.Vector5.html" title="type pmcore::Vector5">Vector5</a></div><div class="desc docblock-short">A stack-allocated, 5-dimensional column vector.</div></li><li><div class="item-name"><a class="type" href="type.Vector6.html" title="type pmcore::Vector6">Vector6</a></div><div class="desc docblock-short">A stack-allocated, 6-dimensional column vector.</div></li></ul></section></div></main></body></html>