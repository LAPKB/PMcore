<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Methods for sorting and partitioning 1-D arrays."><title>Sort1dExt in ndarray_stats - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-9bb858ba049f1f21.css" id="mainThemeStyle"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="ndarray_stats" data-themes="" data-resource-suffix="" data-rustdoc-version="1.72.0 (5680fa18f 2023-08-23)" data-channel="1.72.0" data-search-js="search-f6292fe389d70017.js" data-settings-js="settings-de11bff964e9d4e5.js" data-settings-css="settings-8c76f75bfb6bd192.css" data-theme-light-css="light-0f8c037637f9eb3e.css" data-theme-dark-css="dark-1097f8e92a01e3cf.css" data-theme-ayu-css="ayu-614652228113ac93.css" ><script src="../static.files/storage-59fd9b8ccb335783.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-0795b7d26be81095.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../static.files/light-0f8c037637f9eb3e.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../static.files/dark-1097f8e92a01e3cf.css"><link rel="stylesheet" href="../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../ndarray_stats/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../ndarray_stats/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Sort1dExt</a></h2><div class="sidebar-elems"><section><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.__private__">__private__</a></li><li><a href="#tymethod.get_from_sorted_mut">get_from_sorted_mut</a></li><li><a href="#tymethod.get_many_from_sorted_mut">get_many_from_sorted_mut</a></li><li><a href="#tymethod.partition_mut">partition_mut</a></li></ul><h3><a href="#foreign-impls">Implementations on Foreign Types</a></h3><ul class="block"><li><a href="#impl-Sort1dExt%3CA,+S%3E-for-ArrayBase%3CS,+Ix1%3E">ArrayBase&lt;S, Ix1&gt;</a></li></ul><h3><a href="#implementors">Implementors</a></h3></section><h2><a href="index.html">In ndarray_stats</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Trait <a href="index.html">ndarray_stats</a>::<wbr><a class="trait" href="#">Sort1dExt</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../src/ndarray_stats/sort.rs.html#8-103">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub trait Sort1dExt&lt;A, S&gt;<span class="where fmt-newline">where
    S: <a class="trait" href="../ndarray/data_traits/trait.Data.html" title="trait ndarray::data_traits::Data">Data</a>&lt;Elem = A&gt;,</span>{
    // Required methods
    fn <a href="#tymethod.get_from_sorted_mut" class="fn">get_from_sorted_mut</a>(&amp;mut self, i: <a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.usize.html">usize</a>) -&gt; A
       <span class="where">where A: <a class="trait" href="https://doc.rust-lang.org/1.72.0/core/cmp/trait.Ord.html" title="trait core::cmp::Ord">Ord</a> + <a class="trait" href="https://doc.rust-lang.org/1.72.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,
             S: <a class="trait" href="../ndarray/data_traits/trait.DataMut.html" title="trait ndarray::data_traits::DataMut">DataMut</a></span>;
<span class="item-spacer"></span>    fn <a href="#tymethod.get_many_from_sorted_mut" class="fn">get_many_from_sorted_mut</a>&lt;S2&gt;(
        &amp;mut self,
        indexes: &amp;<a class="struct" href="../ndarray/struct.ArrayBase.html" title="struct ndarray::ArrayBase">ArrayBase</a>&lt;S2, <a class="type" href="../ndarray/aliases/type.Ix1.html" title="type ndarray::aliases::Ix1">Ix1</a>&gt;
    ) -&gt; <a class="struct" href="../indexmap/map/struct.IndexMap.html" title="struct indexmap::map::IndexMap">IndexMap</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.usize.html">usize</a>, A&gt;
       <span class="where">where A: <a class="trait" href="https://doc.rust-lang.org/1.72.0/core/cmp/trait.Ord.html" title="trait core::cmp::Ord">Ord</a> + <a class="trait" href="https://doc.rust-lang.org/1.72.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,
             S: <a class="trait" href="../ndarray/data_traits/trait.DataMut.html" title="trait ndarray::data_traits::DataMut">DataMut</a>,
             S2: <a class="trait" href="../ndarray/data_traits/trait.Data.html" title="trait ndarray::data_traits::Data">Data</a>&lt;Elem = <a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.usize.html">usize</a>&gt;</span>;
<span class="item-spacer"></span>    fn <a href="#tymethod.partition_mut" class="fn">partition_mut</a>(&amp;mut self, pivot_index: <a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.usize.html">usize</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.usize.html">usize</a>
       <span class="where">where A: <a class="trait" href="https://doc.rust-lang.org/1.72.0/core/cmp/trait.Ord.html" title="trait core::cmp::Ord">Ord</a> + <a class="trait" href="https://doc.rust-lang.org/1.72.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,
             S: <a class="trait" href="../ndarray/data_traits/trait.DataMut.html" title="trait ndarray::data_traits::DataMut">DataMut</a></span>;
<span class="item-spacer"></span>    fn <a href="#tymethod.__private__" class="fn">__private__</a>(&amp;self, _: PrivateMarker);
}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Methods for sorting and partitioning 1-D arrays.</p>
</div></details><h2 id="required-methods" class="small-section-header">Required Methods<a href="#required-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="tymethod.get_from_sorted_mut" class="method"><a class="srclink rightside" href="../src/ndarray_stats/sort.rs.html#31-34">source</a><h4 class="code-header">fn <a href="#tymethod.get_from_sorted_mut" class="fn">get_from_sorted_mut</a>(&amp;mut self, i: <a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.usize.html">usize</a>) -&gt; A<span class="where fmt-newline">where
    A: <a class="trait" href="https://doc.rust-lang.org/1.72.0/core/cmp/trait.Ord.html" title="trait core::cmp::Ord">Ord</a> + <a class="trait" href="https://doc.rust-lang.org/1.72.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,
    S: <a class="trait" href="../ndarray/data_traits/trait.DataMut.html" title="trait ndarray::data_traits::DataMut">DataMut</a>,</span></h4></section></summary><div class="docblock"><p>Return the element that would occupy the <code>i</code>-th position if
the array were sorted in increasing order.</p>
<p>The array is shuffled <strong>in place</strong> to retrieve the desired element:
no copy of the array is allocated.
After the shuffling, all elements with an index smaller than <code>i</code>
are smaller than the desired element, while all elements with
an index greater or equal than <code>i</code> are greater than or equal
to the desired element.</p>
<p>No other assumptions should be made on the ordering of the
elements after this computation.</p>
<p>Complexity (<a href="https://en.wikipedia.org/wiki/Quickselect">quickselect</a>):</p>
<ul>
<li>average case: O(<code>n</code>);</li>
<li>worst case: O(<code>n</code>^2);
where n is the number of elements in the array.</li>
</ul>
<p><strong>Panics</strong> if <code>i</code> is greater than or equal to <code>n</code>.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.get_many_from_sorted_mut" class="method"><a class="srclink rightside" href="../src/ndarray_stats/sort.rs.html#47-51">source</a><h4 class="code-header">fn <a href="#tymethod.get_many_from_sorted_mut" class="fn">get_many_from_sorted_mut</a>&lt;S2&gt;(
    &amp;mut self,
    indexes: &amp;<a class="struct" href="../ndarray/struct.ArrayBase.html" title="struct ndarray::ArrayBase">ArrayBase</a>&lt;S2, <a class="type" href="../ndarray/aliases/type.Ix1.html" title="type ndarray::aliases::Ix1">Ix1</a>&gt;
) -&gt; <a class="struct" href="../indexmap/map/struct.IndexMap.html" title="struct indexmap::map::IndexMap">IndexMap</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.usize.html">usize</a>, A&gt;<span class="where fmt-newline">where
    A: <a class="trait" href="https://doc.rust-lang.org/1.72.0/core/cmp/trait.Ord.html" title="trait core::cmp::Ord">Ord</a> + <a class="trait" href="https://doc.rust-lang.org/1.72.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,
    S: <a class="trait" href="../ndarray/data_traits/trait.DataMut.html" title="trait ndarray::data_traits::DataMut">DataMut</a>,
    S2: <a class="trait" href="../ndarray/data_traits/trait.Data.html" title="trait ndarray::data_traits::Data">Data</a>&lt;Elem = <a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.usize.html">usize</a>&gt;,</span></h4></section></summary><div class="docblock"><p>A bulk version of <a href="#tymethod.get_from_sorted_mut"><code>get_from_sorted_mut</code></a>, optimized to retrieve multiple
indexes at once.
It returns an <code>IndexMap</code>, with indexes as keys and retrieved elements as
values.
The <code>IndexMap</code> is sorted with respect to indexes in increasing order:
this ordering is preserved when you iterate over it (using <code>iter</code>/<code>into_iter</code>).</p>
<p><strong>Panics</strong> if any element in <code>indexes</code> is greater than or equal to <code>n</code>,
where <code>n</code> is the length of the array..</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.partition_mut" class="method"><a class="srclink rightside" href="../src/ndarray_stats/sort.rs.html#97-100">source</a><h4 class="code-header">fn <a href="#tymethod.partition_mut" class="fn">partition_mut</a>(&amp;mut self, pivot_index: <a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.usize.html">usize</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.usize.html">usize</a><span class="where fmt-newline">where
    A: <a class="trait" href="https://doc.rust-lang.org/1.72.0/core/cmp/trait.Ord.html" title="trait core::cmp::Ord">Ord</a> + <a class="trait" href="https://doc.rust-lang.org/1.72.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,
    S: <a class="trait" href="../ndarray/data_traits/trait.DataMut.html" title="trait ndarray::data_traits::DataMut">DataMut</a>,</span></h4></section></summary><div class="docblock"><p>Partitions the array in increasing order based on the value initially
located at <code>pivot_index</code> and returns the new index of the value.</p>
<p>The elements are rearranged in such a way that the value initially
located at <code>pivot_index</code> is moved to the position it would be in an
array sorted in increasing order. The return value is the new index of
the value after rearrangement. All elements smaller than the value are
moved to its left and all elements equal or greater than the value are
moved to its right. The ordering of the elements in the two partitions
is undefined.</p>
<p><code>self</code> is shuffled <strong>in place</strong> to operate the desired partition:
no copy of the array is allocated.</p>
<p>The method uses Hoare’s partition algorithm.
Complexity: O(<code>n</code>), where <code>n</code> is the number of elements in the array.
Average number of element swaps: n/6 - 1/3 (see
<a href="https://cs.stackexchange.com/questions/11458/quicksort-partitioning-hoare-vs-lomuto/11550">link</a>)</p>
<p><strong>Panics</strong> if <code>pivot_index</code> is greater than or equal to <code>n</code>.</p>
<h5 id="example"><a href="#example">Example</a></h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>ndarray::array;
<span class="kw">use </span>ndarray_stats::Sort1dExt;

<span class="kw">let </span><span class="kw-2">mut </span>data = <span class="macro">array!</span>[<span class="number">3</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">2</span>];
<span class="kw">let </span>pivot_index = <span class="number">2</span>;
<span class="kw">let </span>pivot_value = data[pivot_index];

<span class="comment">// Partition by the value located at `pivot_index`.
</span><span class="kw">let </span>new_index = data.partition_mut(pivot_index);
<span class="comment">// The pivot value is now located at `new_index`.
</span><span class="macro">assert_eq!</span>(data[new_index], pivot_value);
<span class="comment">// Elements less than that value are moved to the left.
</span><span class="kw">for </span>i <span class="kw">in </span><span class="number">0</span>..new_index {
    <span class="macro">assert!</span>(data[i] &lt; pivot_value);
}
<span class="comment">// Elements greater than or equal to that value are moved to the right.
</span><span class="kw">for </span>i <span class="kw">in </span>(new_index + <span class="number">1</span>)..data.len() {
     <span class="macro">assert!</span>(data[i] &gt;= pivot_value);
}</code></pre></div>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.__private__" class="method"><a class="srclink rightside" href="../src/ndarray_stats/sort.rs.html#102">source</a><h4 class="code-header">fn <a href="#tymethod.__private__" class="fn">__private__</a>(&amp;self, _: PrivateMarker)</h4></section></summary><div class="docblock"><p>This method makes this trait impossible to implement outside of
<code>ndarray-stats</code> so that we can freely add new methods, etc., to
this trait without breaking changes.</p>
<p>We don’t anticipate any other crates needing to implement this
trait, but if you do have such a use-case, please let us know.</p>
<p><strong>Warning</strong> This method is not considered part of the public
API, and client code should not rely on it being present. It
may be removed in a non-breaking release.</p>
</div></details></div><h2 id="foreign-impls" class="small-section-header">Implementations on Foreign Types<a href="#foreign-impls" class="anchor">§</a></h2><details class="toggle implementors-toggle"><summary><section id="impl-Sort1dExt%3CA,+S%3E-for-ArrayBase%3CS,+Ix1%3E" class="impl"><a class="srclink rightside" href="../src/ndarray_stats/sort.rs.html#105-185">source</a><a href="#impl-Sort1dExt%3CA,+S%3E-for-ArrayBase%3CS,+Ix1%3E" class="anchor">§</a><h3 class="code-header">impl&lt;A, S&gt; <a class="trait" href="trait.Sort1dExt.html" title="trait ndarray_stats::Sort1dExt">Sort1dExt</a>&lt;A, S&gt; for <a class="struct" href="../ndarray/struct.ArrayBase.html" title="struct ndarray::ArrayBase">ArrayBase</a>&lt;S, <a class="type" href="../ndarray/aliases/type.Ix1.html" title="type ndarray::aliases::Ix1">Ix1</a>&gt;<span class="where fmt-newline">where
    S: <a class="trait" href="../ndarray/data_traits/trait.Data.html" title="trait ndarray::data_traits::Data">Data</a>&lt;Elem = A&gt;,</span></h3></section></summary><div class="impl-items"><section id="method.get_from_sorted_mut" class="method trait-impl"><a class="srclink rightside" href="../src/ndarray_stats/sort.rs.html#109-131">source</a><a href="#method.get_from_sorted_mut" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.get_from_sorted_mut" class="fn">get_from_sorted_mut</a>(&amp;mut self, i: <a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.usize.html">usize</a>) -&gt; A<span class="where fmt-newline">where
    A: <a class="trait" href="https://doc.rust-lang.org/1.72.0/core/cmp/trait.Ord.html" title="trait core::cmp::Ord">Ord</a> + <a class="trait" href="https://doc.rust-lang.org/1.72.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,
    S: <a class="trait" href="../ndarray/data_traits/trait.DataMut.html" title="trait ndarray::data_traits::DataMut">DataMut</a>,</span></h4></section><section id="method.get_many_from_sorted_mut" class="method trait-impl"><a class="srclink rightside" href="../src/ndarray_stats/sort.rs.html#133-144">source</a><a href="#method.get_many_from_sorted_mut" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.get_many_from_sorted_mut" class="fn">get_many_from_sorted_mut</a>&lt;S2&gt;(
    &amp;mut self,
    indexes: &amp;<a class="struct" href="../ndarray/struct.ArrayBase.html" title="struct ndarray::ArrayBase">ArrayBase</a>&lt;S2, <a class="type" href="../ndarray/aliases/type.Ix1.html" title="type ndarray::aliases::Ix1">Ix1</a>&gt;
) -&gt; <a class="struct" href="../indexmap/map/struct.IndexMap.html" title="struct indexmap::map::IndexMap">IndexMap</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.usize.html">usize</a>, A&gt;<span class="where fmt-newline">where
    A: <a class="trait" href="https://doc.rust-lang.org/1.72.0/core/cmp/trait.Ord.html" title="trait core::cmp::Ord">Ord</a> + <a class="trait" href="https://doc.rust-lang.org/1.72.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,
    S: <a class="trait" href="../ndarray/data_traits/trait.DataMut.html" title="trait ndarray::data_traits::DataMut">DataMut</a>,
    S2: <a class="trait" href="../ndarray/data_traits/trait.Data.html" title="trait ndarray::data_traits::Data">Data</a>&lt;Elem = <a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.usize.html">usize</a>&gt;,</span></h4></section><section id="method.partition_mut" class="method trait-impl"><a class="srclink rightside" href="../src/ndarray_stats/sort.rs.html#146-182">source</a><a href="#method.partition_mut" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.partition_mut" class="fn">partition_mut</a>(&amp;mut self, pivot_index: <a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.usize.html">usize</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.72.0/std/primitive.usize.html">usize</a><span class="where fmt-newline">where
    A: <a class="trait" href="https://doc.rust-lang.org/1.72.0/core/cmp/trait.Ord.html" title="trait core::cmp::Ord">Ord</a> + <a class="trait" href="https://doc.rust-lang.org/1.72.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,
    S: <a class="trait" href="../ndarray/data_traits/trait.DataMut.html" title="trait ndarray::data_traits::DataMut">DataMut</a>,</span></h4></section><section id="method.__private__" class="method trait-impl"><a class="srclink rightside" href="../src/ndarray_stats/sort.rs.html#184">source</a><a href="#method.__private__" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.__private__" class="fn">__private__</a>(&amp;self, _: PrivateMarker)</h4></section></div></details><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"></div><script src="../implementors/ndarray_stats/sort/trait.Sort1dExt.js" data-ignore-extern-crates="ndarray" async></script></section></div></main></body></html>